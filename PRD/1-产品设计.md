# 🧠 注意力持续性测试 (CPT) 原型产品策划文档 (v1.1)

## 📝 1. 项目概览 (Project Overview)

| 字段 | 值 | 描述 |
| :--- | :--- | :--- |
| **项目名称** | 注意力持续性测试 (CPT) 原型 | Continuous Performance Test Prototype |
| **目标** | 构建一个基于浏览器的、可快速部署的注意力测试工具。 | 验证 CPT 基础逻辑和数据采集能力。 |
| **用户** | 研究人员、教育工作者、心理学学生、或对注意力测试感兴趣的普通用户。 |
| **技术栈** | 纯前端 (HTML5, CSS3, JavaScript) | 追求轻量化和易部署性。 |

## 🎯 2. 核心功能 (Core Features)

### 2.1. 测试流程 (Test Flow)

  * **准备阶段：** 显示指导语和操作说明。
  * **启动测试：** 用户按下指定键（如空格键）启动计时和刺激呈现。
  * **刺激呈现：** 按照预定时间间隔在屏幕中央显示刺激。
  * **反应采集：** 记录用户对目标刺激的按键反应。
  * **结束与反馈：** 达到预定刺激次数后停止，展示结果或保存数据。

### 2.2. 刺激与反应 (Stimulus & Response)

  * **刺激类型：** 视觉刺激（如：字母 'X' 和 'O'）。
      * **目标刺激 (Target)：** 'X'（需要按键反应）。
      * **非目标刺激 (Non-Target)：** 'O'（需要抑制反应）。
  * **刺激呈现时间：** $50 \, \text{ms}$ (可配置)。
  * **刺激间隔 (ISI)：** $2000 \, \text{ms}$ (可配置)。
  * **反应键：** 单一按键，如 **空格键 (Spacebar)**。

## 📊 3. 数据采集与指标 (Data Collection & Metrics)

所有数据都应在客户端（浏览器）计算和记录，并最终以 CSV 或 JSON 格式输出给用户。

### 3.1. 核心数据点 (Per Trial)

| 数据点 | 描述 |
| :--- | :--- |
| **Trial ID** | 每次刺激呈现的序号。 |
| **Stimulus Type** | 'Target' (X) 或 'Non-Target' (O)。 |
| **Reaction Time (RT)** | 从刺激出现到按键的时间间隔 (ms)。 |
| **Response Type** | 记录 'Hit' (命中), 'Miss' (漏报), 'False Alarm' (误报), 'Correct Rejection' (正确拒斥)。 |

### 3.2. 关键性能指标 (Overall Metrics)

  * **命中率 (Hit Rate)：** $\frac{\text{Hits}}{\text{Hits} + \text{Misses}}$
  * **误报率 (False Alarm Rate)：** $\frac{\text{False Alarms}}{\text{False Alarms} + \text{Correct Rejections}}$
  * **平均反应时 (Mean RT)：** 所有 Hits 的平均反应时间。
  * **RT 标准差 (RT SD)：** 反应时的一致性指标。

## 🎨 4. 用户界面 (User Interface - UI)

  * **界面风格：** 简洁、无干扰、背景中性（如灰色或黑色）。
  * **刺激区域：** 屏幕中央 $10\% \times 10\%$ 的区域。
  * **字体：** 确保刺激字母清晰、易读，如 **Monospace** 字体。
  * **指导语：** 应清晰展示在测试开始前，提示用户目标和非目标刺激及其反应键。

## 💻 5. 技术实现细节 (Technical Implementation)

  * **计时器精度：** 必须使用 `requestAnimationFrame` 或高性能计时 API (`performance.now()`) 而非标准 `setTimeout/setInterval`，以最大程度提高计时精度。
  * **事件监听：** 仅在刺激呈现期间监听按键事件，以防止无效按键干扰。

## ⚙️ 6. 部署与环境要求 (Deployment & Environment)

### 6.1. 部署环境

| 字段 | 值 | 描述 |
| :--- | :--- | :--- |
| **类型** | 静态站点 (Static Site) | 无需后端服务器，纯前端运行。 |
| **Hosting Platform** | Vercel | 推荐使用 Vercel 进行高性能部署。 |
| **版本控制** | Git (GitHub) | 必须使用 Git 进行版本控制和同步。 |
| **访问方式** | 浏览器 URL 访问 | 通过 Vercel 提供的公共域名访问。 |

### 6.2. 项目结构要求 (Deployment Ready Structure)

为了确保 Vercel 能够顺利拉取和部署项目，文件结构必须清晰且符合静态站点标准：

```
/cpt-prototype/
├── index.html       // 必须是项目根目录下的入口文件
├── style/
│   └── main.css     // 样式文件
├── js/
│   └── script.js    // 核心逻辑和算法实现
└── assets/
    ├── audio/       // 存放音频文件
    └── images/      // 存放其他图像资源
```

### 6.3. 部署流程 (GitHub + Vercel)

部署将严格遵循以下**三步工作流**：

| 步骤 | 平台 | 操作内容 | 描述 |
| :--- | :--- | :--- | :--- |
| **1. 版本控制与同步** | **GitHub** | **提交并同步代码** | 开发者将最新的 HTML、CSS、JS 代码提交 (Commit) 并推送到 **您的 GitHub 仓库**。 |
| **2. 自动拉取与构建**| **Vercel** | **连接并拉取数据** | Vercel 连接到您的 GitHub 账户，并**自动监听您指定仓库的分支**。一旦检测到新的推送，Vercel 会自动拉取最新代码。 |
| **3. 部署与配置** | **Vercel** | **配置和发布** | Vercel **自动构建**静态站点。您可以在 Vercel 配置域名等。部署完成后，Vercel 会提供一个可访问的 URL。 |

> **关键要求：**
>
>   * 确保 Vercel 连接到正确的 GitHub 仓库。
>   * 确保 Vercel 的**构建设置** (Build Settings) 中，**Root Directory** 指向您的项目根目录。

-----

## 🚀 7. 未来迭代计划 (Next Steps)

1.  **参数化配置界面：** 允许用户在测试开始前调整 ISI、刺激总次数等参数。
2.  **数据可视化：** 增加简单的图表展示（如：RT 分布图）。
3.  **多模态支持：** 增加听觉 CPT 刺激的支持。

-----
